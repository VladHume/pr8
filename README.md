# pr8

## Завдання 8.1  
Чи може виклик `count = write(fd, buffer, nbytes);` повернути в змінній `count` значення, відмінне від `nbytes`?  

**Відповідь:** Так, таке можливо. Наприклад, при записі в канали, сокети, файли з обмеженням буфера, або якщо запис переривається сигналом. У таких випадках `write` може записати менше байтів, ніж було запрошено.  
**Без застосування різних обмежень і при непереповнені буфера маємо наступний вивід**

![image](https://github.com/user-attachments/assets/43b90247-e3a8-4d9a-a0b6-aff40e9c9567)


**[Код:](https://github.com/VladHume/pr8/blob/main/task8_1.c)**

## Завдання 8.2  
**Умова:** Вміст файлу: `4, 5, 2, 2, 3, 3, 7, 9, 1, 5`  
Виконуються:
```c
lseek(fd, 3, SEEK_SET);
read(fd, &buffer, 4);
```
**Результат:** Буфер міститиме: `2 3 3 7`  

**[Код:](https://github.com/VladHume/pr8/blob/main/task8_2.c)**

**Результат**

![image](https://github.com/user-attachments/assets/18e3365b-8dc0-4fa8-b2dc-8e5d1acab172)

У ході виконання завдання стикнувся з помилкою, що в sh на відміну від bash printf не дотримується форматування і записує не байти, а буквально передані символи, тому довелося встановити bash за допомогою 
```
sudo pkg install bash
```
та виконати запис байтів у файл вже з нього

Створення файлу:
```bash
printf "\x04\x05\x02\x02\x03\x03\x07\x09\x01\x05" > testfile.bin
```

---

## Завдання 8.3  
Знайти найгірші випадки для `qsort` та автоматизувати тестування.  

**Висновок:** Найгіршим є випадок при чередуванні великих та малих значень, за логікою всі однакові значення та відсортований масив у зворотньому порядку теж мали б бути повільними, проте у qsort реалізовано обробку цих випадків  

**[Код:](https://github.com/VladHume/pr8/blob/main/task8_3.c)**

![image](https://github.com/user-attachments/assets/4a5e2288-0ccd-4eb3-b5c2-688a3769655b)


## Завдання 8.4  
**Умова:** Виклик `fork()` та виведення PID.  

![image](https://github.com/user-attachments/assets/a0a1833f-1903-4c34-b5cb-c6bf8fdbb463)

**Висновок:**  
- У батьківському процесі виводиться PID дочірнього процесу (значення > 0).
- У дочірньому процесі виводиться `0`.

**[Код:](https://github.com/VladHume/pr8/blob/main/task8_4.c)**

## Завдання 8.5  
Знайти випадки, коли `read()` повертає менше байтів, ніж запрошено.  

**Висновок:** Таке трапляється, коли:  
- Кінець файлу.
- Доступно менше байтів, ніж було запрошено.
- При читанні з каналу чи сокета, де дані надходять порціями.

**[Код:](https://github.com/VladHume/pr8/blob/main/task8_5.c)**

**Результат**

![image](https://github.com/user-attachments/assets/64fa240e-de9d-4b49-ab33-9f6c8947eeb3)

Створення тестового файлу:
```bash
echo "Hello" > testfile_small.bin
```

